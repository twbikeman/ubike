<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="d3.min.js"></script>

    <style>

        rect {
            transition: all 0.3s;
        }

        rect:hover {
            fill: orange;
        }
    </style>

    <title>Document</title>
</head>
<body>
    <p>click on this text to update the chart with new data vlues(once)</p>

    <div id='num'></div>

    <script>
        var dataset = [5, 10, 13, 19, 21, 25, 22, 18, 15, 13, 11, 12, 15, 20, 18, 17, 16, 18, 23, 25, 11, 11, 11];
        var dataset1 = [5, 10, 5, 19, 5, 25, 22, 5, 15, 13, 11, 5, 15, 20, 5, 17, 16, 5, 23, 25, 11, 11, 5];

        var w = 500, h = 500;

        svg = d3.select("body")
            .append("svg")
            .attr("width", w)
            .attr("height", h);

        var yScale = d3.scaleLinear()
                        .domain([0, d3.max(dataset)])
                        .range([0,h]);
        
   

        var xScale = d3.scaleBand()
                        .domain(d3.range(dataset.length))
                        .rangeRound([0,w])
                        .padding(0.1);
        svg.selectAll("rect")
            .data(dataset)
            .enter()
            .append("rect")
            .attr("x", function(d, i){return xScale(i);})
            .attr("y", function(d){return h - yScale(d);})
            .attr("width", xScale.bandwidth())
            .attr("height", function(d){return yScale(d);})
            .attr("fill","red")
            .on("click",function(d){d3.select("#num").html(d)});

        svg.selectAll("text")
            .data(dataset)
            .enter()
            .append("text")
            .text(function(d){return d;})

            .attr("font-family","sans-serif")
            .attr("font-size","11px")
            .attr("fill","white")
            .attr("text-anchor","middle")

            .attr("x", function(d, i){return xScale(i) + xScale.bandwidth() / 2 })
            .attr("y",function(d){return h - yScale(d) + 20;});
            

    
        d3.select("p").on("click",function(){
            svg.selectAll("rect")
                .data(dataset1)
                .transition()
                .attr("x", function(d, i){return xScale(i);})
                .attr("y", function(d){return h - yScale(d);})
                .attr("width", xScale.bandwidth())
                .attr("height", function(d){return yScale(d);})
                .attr("fill","red");


        });
            
    </script>
    
</body>
</html>